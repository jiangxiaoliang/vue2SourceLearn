{"version":3,"file":"vue.js","sources":["../src/utils/index.js","../src/global-api/index.js","../src/compile/generate.js","../src/compile/parseAst.js","../src/compile/index.js","../src/observer/arr.js","../src/observer/dep.js","../src/observer/index.js","../src/utils/nextTick.js","../src/observer/watcher.js","../src/initState.js","../src/vnode/patch.js","../src/lifecycle.js","../src/init.js","../src/vnode/index.js","../src/index.js"],"sourcesContent":["export const HOOKS = [\r\n    'beforeCreated',\r\n    'created',\r\n    'beforeMounted',\r\n    'mounted',\r\n    'beforeUpdate',\r\n    'updated',\r\n    'beforeDestroy',\r\n    'destroyed'\r\n]\r\n\r\n// 策略模式\r\nlet starts = {}\r\nstarts.data = function(parentVal, childVal) {\r\n    return childVal\r\n}\r\n// starts.computed = function() {}\r\n// starts.watch = function() {}\r\n// starts.methods = function() {}\r\nstarts.components = function(parentVal, childVal) {\r\n    const obj = Object.create(parentVal)\r\n    if (childVal) {\r\n        for (let key in childVal) {\r\n            obj[key] = childVal[key]\r\n        }\r\n    }\r\n    return obj\r\n}\r\nHOOKS.forEach(hook => {\r\n    starts[hook] = mergeHook\r\n})\r\n\r\nfunction mergeHook(parentVal, childVal) {\r\n    if (childVal) {\r\n        if (parentVal) {\r\n            return parentVal.concat(childVal)\r\n        } else {\r\n            return [childVal]\r\n        }\r\n    } else {\r\n        return parentVal\r\n    }\r\n}\r\n\r\nexport function mergeOptions(parent, child) {\r\n    // console.log(parent, child)\r\n    // Vue.options={created:[a,b,c], data:[a,b,c]}\r\n    let options = {}\r\n    for (let key in parent) {\r\n        mergeField(key)\r\n    }\r\n    for (let key in child) {\r\n        mergeField(key)\r\n    }\r\n    function mergeField(key) {\r\n        // 策略模式\r\n        if (starts[key]) {\r\n            options[key] = starts[key](parent[key], child[key])\r\n        } else {\r\n            options[key] = child[key] || parent[key]\r\n        }\r\n    }\r\n    return options\r\n}","import { mergeOptions } from \"../utils/index\"\r\n\r\nexport function initGlobalApi(Vue) {\r\n    Vue.options = {}\r\n    Vue.mixin = function(mixinOptions) {\r\n        // 对象的合并\r\n        this.options = mergeOptions(this.options, mixinOptions)\r\n        // console.log(this.options, 99)\r\n    }\r\n    // 组件\r\n    Vue.options.components = {} // 放全局组件\r\n    Vue.component = function(id, componentDef) {\r\n        componentDef.name = componentDef.name || id\r\n        componentDef = this.extend(componentDef) // 返回一个实例\r\n        this.options.components[id] = componentDef\r\n    }\r\n    // 核心 创建一个子类\r\n    Vue.extend = function(options) {\r\n        const Super = this\r\n        const Sub = function vueComponent(opts) {\r\n            // new Sub().$mount()\r\n            // 初始化\r\n            this._init(opts)\r\n        }\r\n        // 子组件继承父组件中的属性\r\n        Sub.prototype = Object.create(Super.prototype)\r\n        Sub.prototype.constructor = Sub\r\n        // 将负组件中的属性合并到子组件中\r\n        Sub.options = mergeOptions(Super.options, options)\r\n        console.log(this.options)\r\n        return Sub\r\n    }\r\n}","/**\r\n * div id=\"app\">hello - {{msg}}<h1></h1></div>\r\n * render() {\r\n *  return _c('div', {id: 'app'}, _v('hello' + _s(msg)), _c(h1))\r\n * }\r\n */\r\nvar defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{}}\r\n\r\nfunction genProps(attrs) {\r\n    let str = ''\r\n    for(let i = 0; i < attrs.length; i++) {\r\n        let attr = attrs[i]\r\n        if (attr.name === 'style') {\r\n            let obj = {}\r\n            attr.value.split(';').forEach(item => {\r\n                let [key, val] = item.split(':')\r\n                obj[key] = val\r\n            })\r\n            attr.value = obj\r\n        }\r\n        // 拼接\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n    }\r\n    return `{${str.slice(0, -1)}}` // 删除最后的逗号\r\n}\r\n\r\nfunction genChildren(el) {\r\n    let children = el.children\r\n    if (children) {\r\n        return children.map(child => gen(child)).join(',')\r\n    }\r\n}\r\n\r\nfunction gen(node) {\r\n    // 两种类型 文本和元素\r\n    if (node.type === 1) { // 元素递归调用\r\n        return generate(node)\r\n    } else { // 文本 区分是否有{{}}\r\n        let text = node.text\r\n        if (!defaultTagRE.test(text)) {\r\n            return `_v(${JSON.stringify(text)})`\r\n        }\r\n        // 有{{}} hello {{name}}, {{msg}} 你好\r\n        let tokens = []\r\n        let lastIndex = defaultTagRE.lastIndex = 0 // 正则表达式test以后lastIndex会变大\r\n        let match\r\n        while (match = defaultTagRE.exec(text)) {\r\n            // console.log(match)\r\n            let index = match.index\r\n            if (index > lastIndex) {\r\n                tokens.push(JSON.stringify(text.slice(lastIndex, index)))\r\n            }\r\n            tokens.push(`_s(${match[1].trim()})`)\r\n            lastIndex = index + match[0].length\r\n        }\r\n        if (lastIndex < text.length) {\r\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n        }\r\n        return `_v(${tokens.join('+')})`\r\n    }\r\n}\r\n\r\nexport function generate(el) {\r\n    // console.log(el)\r\n    // 需要处理style的属性{id: 'app', style: {color:red,font-szie: 20px}}\r\n    let children = genChildren(el)\r\n    let code = `_c('${el.tag}', ${el.attrs.length ? `${genProps(el.attrs)}` : 'undefined'}${children ? `,${children}` : ''})`\r\n    // console.log(code)\r\n    return code\r\n}","/**\r\n * ast抽象语法树：css,js,html都可以表示\r\n *  <div id=\"app\">hello - {{msg}}<h1></h1></div>\r\n *  {\r\n *     tag: 'div',\r\n *     attrs: [{id: 'app'},...],\r\n *     children: [{tag: null, text: hello},{tag: h1,...}]\r\n *  }\r\n */\r\n\r\nvar ncname = \"[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*\" // 标签名称\r\nvar qnameCapture = \"((?:\" + ncname + \"\\\\:)?\" + ncname + \")\" // <span:xx>的标签\r\nvar startTagOpen = new RegExp((\"^<\" + qnameCapture)) // 标签开头的正则\r\nvar endTag = new RegExp((\"^<\\\\/\" + qnameCapture + \"[^>]*>\")) // 标签结尾的正则\r\nvar attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 属性匹配\r\nvar startTagClose = /^\\s*(\\/?)>/; // 匹配结束的 >\r\nvar defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{}}\r\n\r\n// // 创建ast语法树\r\n// function createAstElement(tag, attrs) {\r\n//     return {\r\n//         tag,\r\n//         attrs,\r\n//         children: [],\r\n//         type: 1,\r\n//         parent: null\r\n//     }\r\n// }\r\n// let root\r\n// let currentParent // 当前父元素\r\n// let stack = [] // 栈结构用来确定当前的父元素是哪一个\r\n// // 开始标签\r\n// function start(tag, attrs) {\r\n//     let element = createAstElement(tag, attrs)\r\n//     if (!root) {\r\n//         root = element\r\n//     }\r\n//     currentParent = element\r\n//     stack.push(element)\r\n// }\r\n// // 文本\r\n// function charts(text) {\r\n//     text = text.replace(/\\s/g, '')\r\n//     if(text) {\r\n//         currentParent.children.push({\r\n//             type: 3,\r\n//             text\r\n//         })\r\n//     }\r\n// }\r\n// // 结束标签\r\n// function end(tag) {\r\n//     let element = stack.pop()\r\n//     currentParent = stack[stack.length - 1]\r\n//     if (currentParent) {\r\n//         element.parent = currentParent.tag\r\n//         currentParent.children.push(element)\r\n//     }\r\n// }\r\nexport function parseHTML(html) {\r\n    // 创建ast语法树\r\n    function createAstElement(tag, attrs) {\r\n        return {\r\n            tag,\r\n            attrs,\r\n            children: [],\r\n            type: 1,\r\n            parent: null\r\n        }\r\n    }\r\n    let root\r\n    let currentParent // 当前父元素\r\n    let stack = [] // 栈结构用来确定当前的父元素是哪一个\r\n    // 开始标签\r\n    function start(tag, attrs) {\r\n        let element = createAstElement(tag, attrs)\r\n        if (!root) {\r\n            root = element\r\n        }\r\n        currentParent = element\r\n        stack.push(element)\r\n    }\r\n    // 文本\r\n    function charts(text) {\r\n        text = text.replace(/\\s/g, '')\r\n        if(text) {\r\n            currentParent.children.push({\r\n                type: 3,\r\n                text\r\n            })\r\n        }\r\n    }\r\n    // 结束标签\r\n    function end(tag) {\r\n        let element = stack.pop()\r\n        currentParent = stack[stack.length - 1]\r\n        if (currentParent) {\r\n            element.parent = currentParent.tag\r\n            currentParent.children.push(element)\r\n        }\r\n    }\r\n    // 开始标签 文本 结束标签\r\n    while(html) {\r\n        // 判断标签 <>\r\n        let textEnd = html.indexOf('<')\r\n        if (textEnd === 0) {\r\n            // 开始标签\r\n            const startTagMatch = parseStartTag()\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                continue\r\n            }\r\n            // 结束标签\r\n            let endTagMatch = html.match(endTag)\r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length)\r\n                end(endTagMatch[1])\r\n                continue\r\n            }\r\n        }\r\n        let text\r\n        if (textEnd > 0) { // 文本\r\n            text = html.substring(0, textEnd)\r\n            // console.log(text)\r\n        }\r\n        if (text) {\r\n            advance(text.length)\r\n            charts(text)\r\n        }\r\n        // break\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen)\r\n        // console.log(start)\r\n        if (!start) return\r\n        let match = {\r\n            tagName: start[1],\r\n            attrs: []\r\n        }\r\n        // 删除已经匹配的标签<div\r\n        advance(start[0].length)\r\n        // 属性匹配 注意遍历和结束>\r\n        let attr\r\n        let end\r\n        while(!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n            // console.log(attr)\r\n            match.attrs.push({name: attr[1], value: attr[3] || attr[4] || attr[5]})\r\n            // 继续删除已经匹配的属性\r\n            advance(attr[0].length)\r\n        }\r\n        if (end) {\r\n            // console.log(end)\r\n            advance(end[0].length)\r\n            return match\r\n        }\r\n    }\r\n    function advance(n) {\r\n        html = html.substring(n)\r\n        // console.log(html)\r\n    }\r\n    // console.log(root)\r\n    return root\r\n}","import { generate } from \"./generate\";\r\nimport { parseHTML } from \"./parseAst\";\r\n\r\nexport function compileToFunction(el) {\r\n    // 1.html 转变成 ast语法树\r\n    let ast = parseHTML(el)\r\n    console.log(ast)\r\n    // 2.ast 语法树变成 render函数(a.ast 变成字符串 b.字符串变成render函数)\r\n    let code = generate(ast)\r\n    // 3.将render字符串变成函数\r\n    let render = new Function(`with(this) { return ${code} }`)\r\n    return render\r\n}\r\n\r\n// obj = {a: 1, b: 2}\r\n// with(obj) {\r\n//     console.log(a, b)\r\n// }","// 重写数组的方法\r\nlet oldArrayProtoMethods= Array.prototype\r\nexport let arrayMethods = Object.create(oldArrayProtoMethods) // 继承\r\nlet methods = [\r\n    'push',\r\n    'pop',\r\n    'unshift',\r\n    'shift',\r\n    'splice'\r\n]\r\n\r\nmethods.forEach(item => {\r\n    arrayMethods[item] = function(...args) {\r\n        // console.log('数组劫持')\r\n        let result = oldArrayProtoMethods[item].apply(this, args)\r\n        let inserted // 数组追加对象的形式\r\n        switch (item) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted = args\r\n                break;\r\n            case 'splice':\r\n                inserted = args.splice(2) // splice第三个参数是插入的数据\r\n            default:\r\n                break;\r\n        }\r\n        let ob = this.__ob__ // hack\r\n        if (inserted) {\r\n            ob.observeArray(inserted)\r\n        }\r\n        ob.dep.notify() // 通知数组更新\r\n        return result\r\n    }\r\n})","let id = 0\r\nclass Dep {\r\n    constructor() {\r\n        this.id = id++\r\n        this.subs = []\r\n    }\r\n    // 收集watcher\r\n    depend() {\r\n        // 希望watcher也可以存放dep\r\n        // this.subs.push(Dep.target)\r\n        Dep.target.addDep(this)\r\n    }\r\n    addSub(watcher) {\r\n        this.subs.push(watcher)\r\n    }\r\n    // 更新\r\n    notify() {\r\n        this.subs.forEach(watcher => {\r\n            watcher.update()\r\n        })\r\n    }\r\n}\r\n\r\n// 添加watcher\r\nDep.target = null\r\n// 处理多个watcher computed的watcher\r\nlet stack = []\r\nexport function pushTarget(watcher) {\r\n    Dep.target = watcher\r\n    stack.push(watcher) // 渲染watcher 其他的watcher\r\n}\r\nexport function popTarget() {\r\n    // Dep.target = null\r\n    // 解析完成一个watcher 就删除一个watcher\r\n    stack.pop()\r\n    Dep.target = stack[stack.length - 1] // 获取前一个watcher\r\n}\r\n\r\nexport default Dep","import { arrayMethods } from './arr'\r\nimport Dep from './dep'\r\n\r\nexport function observer(data) {\r\n    // 判断是否是一个对象\r\n    if (typeof data != 'object' || data === null) {\r\n        return\r\n    }\r\n    // 判断用户是否已经观测\r\n    // if (data.__ob__) {\r\n    //     return data\r\n    // }\r\n    // 数据劫持\r\n    return new Observer(data)\r\n}\r\n\r\nclass Observer {\r\n    constructor(data) {\r\n        Object.defineProperty(data, '__ob__', {\r\n            enumerable: false,\r\n            // configurable: true,\r\n            value: this // this表示observer对象\r\n        })\r\n        this.dep = new Dep() // 给所有对象类型增加一个dep\r\n        if (Array.isArray(data)) { // 处理数组\r\n            data.__proto__ = arrayMethods\r\n            this.observeArray(data) // 如果是数组对象\r\n        } else { // 处理对象\r\n            this.walk(data)\r\n        }\r\n    }\r\n    walk(data) {\r\n        let keys = Object.keys(data)\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i]\r\n            let value = data[key]\r\n            defineReactive(data, key, value) // 单个属性进行劫持\r\n        }\r\n    }\r\n    observeArray(data) {\r\n        for(let i = 0; i < data.length; i++) {\r\n            observer(data[i])\r\n        }\r\n    }\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n    let childDep = observer(value) // 深度监听,data存在对象的情况\r\n    let dep = new Dep() // 给每一个属性添加一个dep\r\n    Object.defineProperty(data, key, {\r\n        get() { // 收集依赖（watcher)\r\n            if (Dep.target) {\r\n                dep.depend()\r\n                if (childDep) {\r\n                    childDep.dep.depend()\r\n                }\r\n            }\r\n            // console.log(dep)\r\n            // console.log('get 获取数据')\r\n            return value\r\n        },\r\n        set(newValue) {\r\n            // console.log('set 设置数据')\r\n            if (newValue === value) return\r\n            observer(newValue) // 设置的时候是对象的情况\r\n            value = newValue\r\n            dep.notify()\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 对象：\r\n *  1、Object.defineProperty 缺点只能劫持对象的某一个属性\r\n *  2、遍历\r\n *  3、递归 get 和 set 是对象的时候\r\n * \r\n * 数组：list:[1,2,3]  list:[{....}]\r\n *  1、函数劫持的方式\r\n */","let callback = []\r\nlet pending = false\r\nfunction flush() {\r\n    callback.forEach(cb => cb())\r\n    pending = false\r\n}\r\nlet timerFunc\r\nif (Promise) {\r\n    timerFunc = () => {\r\n        Promise.resolve().then(flush)\r\n    }\r\n} else if (MutationObserver) { // h5 异步方法，可以监听dom变化，监听完毕之后来异步更新\r\n    let observe = new MutationObserver(flush)\r\n    let textNode = document.createTextNode(1)\r\n    observe.observe(textNode, { characterData: true }) // 检测文本内容变化\r\n    timerFunc = () => {\r\n        textNode.textContent = 2\r\n    }\r\n} else if (setImmediate) { // ie\r\n    timerFunc = () => {\r\n        setImmediate(flush)\r\n    }\r\n} else {\r\n    timerFunc = () => {\r\n        setTimeout(flush)\r\n    }\r\n}\r\nexport function nextTick(cb) {\r\n    // 队列[cb1, cb2]\r\n    callback.push(cb)\r\n    if (!pending) {\r\n        timerFunc() // 异步处理函数 需要处理兼容问题，vue3使用的是Promise.then\r\n        pending = true\r\n    }\r\n}","// 1、通过这个类实现watcher更新\r\n\r\nimport { nextTick } from \"../utils/nextTick\"\r\nimport { popTarget, pushTarget } from \"./dep\"\r\n\r\nlet id = 0\r\nclass Watcher {\r\n    constructor(vm, expOrFn, cb, options) {\r\n        this.vm = vm\r\n        this.expOrFn = expOrFn\r\n        this.cb = cb\r\n        this.options = options\r\n        this.id = id++\r\n        this.deps = []\r\n        this.depsId = new Set()\r\n        this.user = !!options.user\r\n        // computed\r\n        this.lazy = options.lazy // watcher有lazy说明是computed\r\n        this.dirty = this.lazy // 取值的时候表示用户是否执行\r\n        if (typeof expOrFn === 'function') {\r\n            this.getter = expOrFn // 用来更新视图的\r\n        } else { // watch的处理\r\n            this.getter = function() { // 多次监听c.c.c\r\n                let path = expOrFn.split('.')\r\n                let obj = vm\r\n                for (let i = 0; i < path.length; i++) {\r\n                    obj = obj[path[i]]\r\n                }\r\n                return obj\r\n            }\r\n        }\r\n        // 更新视图\r\n        this.value = this.lazy ? void 0 : this.get() // this.value保存watch的初始值\r\n    }\r\n    // 初次渲染\r\n    get() {\r\n        pushTarget(this) // 给dep添加watcher\r\n        const value = this.getter.call(this.vm) // 这里会触发属性的get，就是初次的依赖收集\r\n        popTarget() // 给dep取消watcher\r\n        return value\r\n    }\r\n    // 更新\r\n    update() {\r\n        // 注意：不要每次数据更新后每次调用get，get会重新渲染\r\n        // 进行缓存\r\n        // this.getter()\r\n        // queueWatcher(this)\r\n        if (this.lazy) { // 计算属性的watcher\r\n            this.dirty = true\r\n        } else { // 重新渲染\r\n            queueWatcher(this)\r\n        }\r\n    }\r\n    addDep(dep) {\r\n        // 去重\r\n        let id = dep.id\r\n        if (!this.depsId.has(id)) {\r\n            this.deps.push(dep)\r\n            this.depsId.add(id)\r\n            dep.addSub(this)\r\n        }\r\n    }\r\n    run() {\r\n        // this.get()\r\n        // watch 新旧值\r\n        let value = this.get()\r\n        let oldValue = this.value\r\n        this.value = value\r\n        if (this.user) { // 执行handler 是用户的watch\r\n            this.cb.call(this.vm, value, oldValue)\r\n        }\r\n    }\r\n    evaluate() {\r\n        this.value = this.get()\r\n        this.dirty = false\r\n    }\r\n    // 相互收集\r\n    depend() {\r\n        // 收集watcher存放到dep dep会存放到wacher中\r\n        // 通过watcher找到对应所有的dep，在让dep都记住这个渲染watcher\r\n        let i = this.deps.length\r\n        while(i--) {\r\n            this.deps[i].depend()\r\n        }\r\n    }\r\n}\r\n\r\nlet queue = [] // 用户存放批量执行的watcher的队列\r\nlet has = {}\r\nlet pending = false\r\nfunction flushWatcher() {\r\n    // queue.forEach(item => {item.run(), item.cb()})\r\n    queue.forEach(item => item.run())\r\n    queue = []\r\n    has = {}\r\n    pending = false\r\n}\r\nfunction queueWatcher(watcher) {\r\n    let id = watcher.id // 每个组件都是同一个wathcer,会执行多次\r\n    if (has[id] === undefined) {\r\n        queue.push(watcher)\r\n        has[id] = true\r\n        if (!pending) {\r\n            // setTimeout(() => {\r\n            //     queue.forEach(item => item.run())\r\n            //     queue = []\r\n            //     has = {}\r\n            //     pending = false\r\n            // })\r\n            nextTick(flushWatcher) // 相当于定时器\r\n        }\r\n        pending = true\r\n    }\r\n}\r\n\r\nexport default Watcher\r\n\r\n/**\r\n * 依赖收集 vue dep watcher data:{name:xx,age:xx}\r\n * 1、dep：dep和data中的属性是一一对应\r\n * 2、watcher：在视图上有几个属性，就有几个watcher\r\n * 3、dep与watcher: 一对多  dep.name = [w1,w2,w3,...]\r\n */\r\n\r\n/**\r\n * nextTick 原理\r\n * 1、优化\r\n */","import { observer } from \"./observer/index\"\r\nimport { nextTick } from \"./utils/nextTick\"\r\nimport Watcher from './observer/watcher'\r\nimport Dep from './observer/dep'\r\n\r\nexport function initState(vm) {\r\n\tlet opts = vm.$options\r\n\tif (opts.data) {\r\n\t\tinitData(vm)\r\n\t}\r\n\tif (opts.props) {\r\n\t\tinitProps()\r\n\t}\r\n\tif (opts.computed) {\r\n\t\tinitComputed(vm)\r\n\t}\r\n\tif (opts.watch) {\r\n\t\tinitWatch(vm)\r\n\t}\r\n\tif (opts.methods) {\r\n\t\tinitMethods()\r\n\t}\r\n}\r\n\r\n/**\r\n * 初始化数据,有两种方式对象和函数\r\n * @param {*} vm vm\r\n */\r\nfunction initData(vm) {\r\n\tlet data = vm.$options.data\r\n\tdata = vm._data = typeof data === 'function' ? data.call(vm) : data\r\n\t// 代理,data中的数据设置到vm实例上\r\n\tfor (let key in data) {\r\n\t\tproxy(vm, '_data', key)\r\n\t}\r\n\t// 数据劫持\r\n\tobserver(data)\r\n}\r\n\r\nfunction initProps() {}\r\n\r\nfunction initComputed(vm) {\r\n\tlet computed = vm.$options.computed\r\n\t// 1.需要一个watcher\r\n\tlet watcher = vm._computedWatchers = {}\r\n\t// 2.将computed属性通过defineProperty进行处理\r\n\tfor (let key in computed) {\r\n\t\t// 有两种使用方式\r\n\t\tlet useDef = computed[key]\r\n\t\tlet getter = typeof useDef === 'function' ? useDef : useDef.get // watcher\r\n\t\t// 给没一个属性添加watcher\r\n\t\twatcher[key] = new Watcher(vm, getter, () => {}, {\r\n\t\t\tlazy: true\r\n\t\t}) // 计算属性中的watcher是赖的\r\n\t\tdefineComputed(vm, key, useDef)\r\n\t}\r\n}\r\n\r\nlet sharePropDefinition = {}\r\n\r\nfunction defineComputed(target, key, useDef) {\r\n\tsharePropDefinition = {\r\n\t\tenumerable: true,\r\n\t\tconfigurable: true,\r\n\t\tget: () => {},\r\n\t\tset: () => {}\r\n\t}\r\n\tif (typeof useDef === 'function') {\r\n\t\t// sharePropDefinition.get = useDef\r\n\t\tsharePropDefinition.get = createComputedGetter(key)\r\n\t} else {\r\n\t\t// sharePropDefinition.get = useDef.get\r\n\t\tsharePropDefinition.get = createComputedGetter(key)\r\n\t\tsharePropDefinition.set = useDef.set\r\n\t}\r\n\tObject.defineProperty(target, key, sharePropDefinition)\r\n}\r\n// 高阶函数\r\nfunction createComputedGetter(key) {\r\n\treturn function () {\r\n\t\tlet watcher = this._computedWatchers[key]\r\n\t\tif (watcher) {\r\n\t\t\tif (watcher.dirty) {\r\n\t\t\t\t//执行 求值 在watcher定义一个方法\r\n\t\t\t\twatcher.evaluate()\r\n\t\t\t}\r\n\t\t\t// 判断是否有渲染watcher，有就执行  相互存放watcher\r\n\t\t\tif (Dep.target) { // 说明有渲染的watcher，收集起来\r\n\t\t\t\twatcher.depend()\r\n\t\t\t}\r\n\t\t\treturn watcher.value\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction initWatch(vm) {\r\n\t// 1.获取watch\r\n\tlet watch = vm.$options.watch\r\n\t// console.log(watch)\r\n\t// 2.遍历\r\n\tfor (let key in watch) {\r\n\t\tlet handler = watch[key] // 数组 对象 字符 函数\r\n\t\tif (Array.isArray(handler)) {\r\n\t\t\thandler.forEach(item => {\r\n\t\t\t\tcreateWatcher(vm, key, item)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tcreateWatcher(vm, key, handler)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction initMethods() {}\r\n\r\nfunction proxy(vm, source, key) {\r\n\tObject.defineProperty(vm, key, {\r\n\t\tget() {\r\n\t\t\treturn vm[source][key]\r\n\t\t},\r\n\t\tset(newValue) {\r\n\t\t\tvm[source][key] = newValue\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// vm.$watch(() => return 'a')->第二个参数可能是个表达式，options里面user=false/true(初次渲染)\r\nfunction createWatcher(vm, expOrFn, handler, options) {\r\n\tif (typeof handler === 'object') {\r\n\t\toptions = handler\r\n\t\thandler = handler.handler\r\n\t}\r\n\tif (typeof handler === 'string') {\r\n\t\thandler = vm[handler]\r\n\t}\r\n\t// watch最终的处理是$watch方法\r\n\treturn vm.$watch(vm, expOrFn, handler, options)\r\n}\r\n\r\nexport function stateMixin(Vue) {\r\n\t// 列队：1.vue自己nextTick  2.用户自定的\r\n\tVue.prototype.$nextTick = function (cb) {\r\n\t\tnextTick(cb)\r\n\t}\r\n\tVue.prototype.$watch = function (vm, expOrFn, handler, options = {}) {\r\n\t\t// console.log(vm)\r\n\t\t// 实现watch方法就是new Watcher\r\n\t\t// 渲染走渲染的watcher,$watch走watcher user=false\r\n\t\tlet watcher = new Watcher(vm, expOrFn, handler, {\r\n\t\t\t...options,\r\n\t\t\tuser: true\r\n\t\t})\r\n\t\tif (options.immediate) {\r\n\t\t\thandler.call(vm)\r\n\t\t}\r\n\t}\r\n}","export function patch(oldVnode, vnode) {\r\n    // console.log(oldNode, vnode)\r\n    // 第一次渲染 oldNode 是一个真实的dom\r\n    // 如果是组件\r\n    if (!oldVnode) {\r\n        return createEl(vnode)\r\n    }\r\n    if (oldVnode.nodeType === 1) {\r\n        // 1.创建新的dom\r\n        let el = createEl(vnode)\r\n        // console.log(el)\r\n        // 2.替换 (1)-获取父节点 (2)-插入 (3)-删除\r\n        let parentEl = oldVnode.parentNode\r\n        parentEl.insertBefore(el, oldVnode.nextsibling)\r\n        parentEl.removeChild(oldVnode)\r\n        return el\r\n    } else { // diff算法\r\n        // console.log(oldVnode, vnode)\r\n        // 1.标签是不一样的，直接用新的替换老的\r\n        if (oldVnode.tag !== vnode.tag) {\r\n            return oldVnode.el.parentNode.replaceChild(createEl(vnode), oldVnode.el)\r\n        }\r\n        // 2.标签一样 text和属性不一样\r\n        if (!oldVnode.tag) { // 是文本 <div>1</div> <div>2</div> tag: undefined\r\n            if (oldVnode.text !== vnode.text) { // 文本不一样直接替换\r\n                return oldVnode.el.textContent = vnode.text\r\n            }\r\n        }\r\n        // 2.1 属性处理 <div id=\"a\"></div> <div id=\"a\"></div>\r\n        // 方法1 直接复制\r\n        let el = vnode.el = oldVnode.el\r\n        updateProps(vnode, oldVnode.data)\r\n        // 3.子元素diff(核心)\r\n        // 3.1 老的有儿子，新的没有儿子\r\n        // 3.2 老的没有儿子，新的有儿子\r\n        // 3.3 老的有儿子，新的有儿子（核心）\r\n        let oldChildren = oldVnode.children || []\r\n        let newChildren = vnode.children || []\r\n        if (oldChildren.length > 0 && newChildren.length > 0) {\r\n            updateChild(oldChildren, newChildren, el)\r\n        } else if (oldChildren.length > 0) {\r\n            el.innerHTML = ''\r\n        } else if (newChildren.length > 0) {\r\n            for (let i = 0; i < newChildren.length; i++) {\r\n                let child = newChildren[i]\r\n                // 添加到真实dom\r\n                el.appendChild(createEl(child))\r\n            }\r\n        }\r\n     }\r\n}\r\n\r\n// 添加属性\r\nfunction updateProps(vnode, oldProps={}) {\r\n    let newProps = vnode.data || {}\r\n    let el = vnode.el // 更新的时候已经替换为老的dom节点\r\n    // 1.老的有属性，新的没有\r\n    for (let key in oldProps) {\r\n        if (!newProps[key]) {\r\n            el.removeAttribute[key]\r\n        }\r\n    }\r\n    // 2.样式 老的style={color: red} 新的style={background: red}\r\n    let newStyle = newProps.style || {}\r\n    let oldStyle = oldProps.style || {}\r\n    for (let key in oldStyle) {\r\n        if (!newStyle[key]) {\r\n            el.style = ''\r\n        }\r\n    }\r\n    // 新的\r\n    for (let key in newProps) {\r\n        if (key === 'style') {\r\n            for (let styleName in newProps.style) {\r\n                el.style[styleName] = newProps.style[styleName]\r\n            }\r\n        } else if (key === 'class') {\r\n            el.className = newProps.class\r\n        } else {\r\n            el.setAttribute(key, newProps[key])\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport function createEl(vnode) {\r\n    let { vm, tag, children, data, key, text } = vnode\r\n    // console.log(vnode)\r\n    if (typeof tag === 'string') {\r\n        if (createComponent(vnode)) {\r\n            return vnode.componentInstance.$el\r\n        } else {\r\n            vnode.el = document.createElement(tag)\r\n            updateProps(vnode)\r\n            if (children && children.length > 0) {\r\n                children && children.forEach(child => {\r\n                    vnode.el.appendChild(createEl(child))\r\n                })\r\n            }\r\n        }\r\n    } else {\r\n        vnode.el = document.createTextNode(text)\r\n    }\r\n    return vnode.el\r\n}\r\n\r\nfunction createComponent(vnode) {\r\n    let i = vnode.data\r\n    if ((i = i.hook) && (i = i.init)) {\r\n        i(vnode)\r\n    }\r\n    if (vnode.componentInstance) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nfunction updateChild(oldChildren, newChildren, parent) {\r\n    // vue diff 算法做了很多优化\r\n    // dom 中操作元素常用的逻辑：尾部添加 头部添加 正序和倒序的方式\r\n    // vue2 采用双指针的方式\r\n    // 1.创建双指针\r\n    let oldStartIndex = 0\r\n    let oldStartVnode = oldChildren[oldStartIndex]\r\n    let oldEndIndex = oldChildren.length - 1\r\n    let oldEndVnode = oldChildren[oldEndIndex]\r\n    let newStartIndex = 0\r\n    let newStartVnode = newChildren[newStartIndex]\r\n    let newEndIndex = newChildren.length - 1\r\n    let newEndVnode = newChildren[newEndIndex]\r\n    let forward = 'head'\r\n\r\n    function isSameVnode(oldVnode, newVnode) {\r\n        return (oldVnode.tag === newVnode.tag) && (oldVnode.key === newVnode.key)\r\n    }\r\n    // 创建映射表\r\n    function makeIndexByKey(child) {\r\n        let keyMap = {}\r\n        child.forEach((item, index) => {\r\n            if (item.key) {\r\n                keyMap[item.key] = index\r\n            }\r\n        })\r\n        return keyMap\r\n    }\r\n    let map = makeIndexByKey(oldChildren)\r\n    // 2.遍历\r\n    while(oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\r\n        // 对比子元素\r\n        // 头部先进行对比（注意是否是同一个元素）\r\n        if (isSameVnode(oldStartVnode, newStartVnode)) { // 头部进行对比\r\n            // 递归\r\n            patch(oldStartVnode, newStartVnode)\r\n            // 移动指针\r\n            oldStartVnode = oldChildren[++oldStartIndex]\r\n            newStartVnode = newChildren[++newStartIndex]\r\n        } else if (isSameVnode(oldEndVnode, newEndVnode)) { // 尾部进行对比\r\n            forward = 'end'\r\n            patch(oldEndVnode, newEndVnode)\r\n            oldEndVnode = oldChildren[--oldEndIndex]\r\n            newEndVnode = newChildren[--newEndIndex]\r\n        } else if (isSameVnode(oldStartVnode, newEndVnode)) { // 倒序\r\n            patch(oldStartVnode, newEndVnode)\r\n            parent.insertBefore(oldStartVnode.el, (oldEndVnode.el).nextSibling)\r\n            oldStartVnode = oldChildren[++oldStartIndex]\r\n            newEndVnode = newChildren[--newEndIndex]\r\n        } else if (isSameVnode(oldEndVnode, newStartVnode)) { // 倒序\r\n            patch(oldEndVnode, newStartVnode)\r\n            parent.insertBefore(oldEndVnode.el, oldStartVnode.el)\r\n            oldEndVnode = oldChildren[--oldEndIndex]\r\n            newStartVnode = newChildren[++newStartIndex]\r\n        } else { // 暴力比对\r\n            // 1.创建旧元素的映射表\r\n            // 2.新的从老的节点中寻找元素\r\n            let moveIndex = map[newStartVnode.key]\r\n            if (moveIndex === undefined) { // 没有找到\r\n                parent.insertBefore(createEl(newStartVnode), oldStartVnode.el)\r\n            } else { // 获取到旧的元素插入到第一个元素前面即复用\r\n                let moveVnode = oldChildren[moveIndex] // 获取到节点\r\n                oldChildren[moveIndex] = null // 防止数组塌陷\r\n                parent.insertBefore(moveVnode.el, oldStartVnode.el) // 插入\r\n                patch(moveVnode, newStartVnode) // 递归 可能有儿子\r\n            }\r\n            newStartVnode = newChildren[++newStartIndex]\r\n        }\r\n    }\r\n    // 添加新的多余的元素\r\n    if (newStartIndex <= newEndIndex) {\r\n        if (forward === 'head') {\r\n            for (let i = newStartIndex; i <= newEndIndex; i++) {\r\n                parent.appendChild(createEl(newChildren[i]))\r\n            }\r\n        }\r\n        if (forward === 'end') {\r\n            for (let i = newEndIndex; i >= newStartIndex; i--) {\r\n                parent.insertBefore(createEl(newChildren[i]), parent.children[0])\r\n            }\r\n        }\r\n    }\r\n    // 将老的中多余的元素删除\r\n    if (oldStartIndex <= oldEndIndex) {\r\n        for (let i = oldStartIndex; i <= oldEndIndex; i++) {\r\n            let child = oldChildren[i]\r\n            if (child != null) {\r\n                parent.removeChild(child.el)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * vue渲染流程\r\n *  1、数据初始化\r\n *  2、对模板进行编译\r\n *  3、ast变成render字符串和函数\r\n *  4、通过render函数变成vnode\r\n *  5、vnode变成真实dom\r\n *  6、放到页面\r\n */","import Watcher from \"./observer/watcher\"\r\nimport { patch } from \"./vnode/patch\"\r\n\r\nexport function mountedComponent(vm, el) {\r\n    callHook(vm, 'beforeMounted')\r\n    //  1.vm._render将render函数变vnode 2.vm._update vnode变成真实dom\r\n    // vm._update(vm._render())\r\n    let updateComponent = () => {\r\n        vm._update(vm._render())\r\n    }\r\n    new Watcher(vm, updateComponent, () => {\r\n        callHook(vm, 'updated')\r\n    }, true)\r\n    callHook(vm, 'mounted')\r\n}\r\n\r\nexport function lifecycleMixin(Vue) {\r\n    // vnode -> 真实dom\r\n    Vue.prototype._update = function(vnode) {\r\n        // console.log(vnode)\r\n        let vm = this\r\n        // vm.$el = patch(vm.$el, vnode)\r\n        // 需要区分是首次还是更新\r\n        let prevVnode = vm._vnode\r\n        if (!prevVnode) {\r\n            vm.$el = patch(vm.$el, vnode)\r\n            vm._vnode = vnode\r\n        } else {\r\n            patch(prevVnode, vnode)\r\n        }\r\n    }\r\n}\r\n\r\n// 生命周期调用\r\nexport function callHook(vm, hook) {\r\n    const handlers = vm.$options[hook]\r\n    if (handlers) {\r\n        for (let i = 0; i < handlers.length; i++) {\r\n            handlers[i].call(this)\r\n        }\r\n    }\r\n}","import { compileToFunction } from \"./compile/index\"\r\nimport { initState } from \"./initState\"\r\nimport { callHook, mountedComponent } from \"./lifecycle\"\r\nimport { mergeOptions } from \"./utils/index\"\r\n\r\nexport function initMixin(Vue) {\r\n    Vue.prototype._init = function(options) {\r\n        // console.log(options)\r\n        let vm = this\r\n        // vm.$options = options\r\n        // vm.$options = mergeOptions(Vue.options, options)\r\n        // 组件\r\n        vm.$options = mergeOptions(this.constructor.options, options)\r\n        console.log(vm.$options)\r\n        callHook(vm, 'beforeCreated')\r\n        // 初始化状态\r\n        initState(vm)\r\n        callHook(vm, 'created')\r\n        // 编译模板\r\n        if (vm.$options.el) {\r\n            vm.$mount(vm.$options.el)\r\n        }\r\n    }\r\n    Vue.prototype.$mount = function(el) {\r\n        let vm = this\r\n        el = document.querySelector(el)\r\n        vm.$el = el\r\n        let options = vm.$options\r\n        if (!options.render) {\r\n            let template = options.template\r\n            if (!template && el) {\r\n                el = el.outerHTML\r\n                // console.log(el)\r\n                // render函数\r\n                let render = compileToFunction(el)\r\n                console.log(render)\r\n                // 1.将render函数变vnode 2.vnode变成真实dom\r\n                options.render = render\r\n            } else {\r\n                // console.log(template)\r\n                let render = compileToFunction(template)\r\n                console.log(render)\r\n                // 1.将render函数变vnode 2.vnode变成真实dom\r\n                options.render = render\r\n            }\r\n        }\r\n        mountedComponent(vm, el) // render函数变成真实dom挂载到页面\r\n    }\r\n}","export function renderMixin(Vue) {\r\n    Vue.prototype._c = function() { // 标签\r\n        return createElement(this, ...arguments)\r\n    }\r\n    Vue.prototype._v = function(text) { // 文本\r\n        return createText(text)\r\n    }\r\n    Vue.prototype._s = function(val) { // 插值表达式\r\n        return val === null ? '' : ((typeof val === 'object') ? JSON.stringify(val) : val)\r\n    }\r\n    Vue.prototype._render = function() {\r\n        let vm = this\r\n        let render = vm.$options.render\r\n        let vnode = render.call(this)\r\n        // console.log(vnode)\r\n        return vnode\r\n    }\r\n}\r\n\r\nfunction createElement(vm, tag, data={}, ...children) {\r\n    // 需要判断是否是组件\r\n    if (isReservedTag(tag)) { // 是标签\r\n        return vnode(vm, tag, data, data.key, children, undefined)\r\n    } else { // 组件\r\n        const Ctor = vm.$options['components'][tag]\r\n        return createComponent(vm, tag, data, children, Ctor)\r\n    }\r\n}\r\n\r\n// 创建组件的虚拟节点\r\nfunction createComponent(vm, tag, data, children, Ctor) {\r\n    if (typeof Ctor == 'object') {\r\n        Ctor = vm.constructor.extend(Ctor)\r\n    }\r\n    data.hook = {\r\n        init(vnode) {\r\n            let child = vnode.componentInstance = new vnode.componentOptions.Ctor({})\r\n            child.$mount()\r\n        }\r\n    }\r\n    return vnode('vm', 'vue-component-' + tag, data, undefined, undefined, undefined, { Ctor, children })\r\n}\r\n\r\nfunction isReservedTag(tag) {\r\n    return ['a', 'div', 'h', 'button', 'span', 'input', 'li', 'ul', 'h1', 'h2'].includes(tag)\r\n}\r\n\r\nfunction createText(text) {\r\n    return vnode(undefined, undefined, undefined, undefined, undefined, text, undefined)\r\n}\r\n\r\nfunction vnode(vm, tag, data, key, children, text, componentOptions) {\r\n    return {\r\n        vm,\r\n        tag,\r\n        data,\r\n        key,\r\n        children,\r\n        text,\r\n        componentOptions\r\n    }\r\n}","import { initGlobalApi } from \"./global-api/index\"\r\nimport { initMixin } from \"./init\"\r\nimport { lifecycleMixin } from \"./lifecycle\"\r\nimport { renderMixin } from \"./vnode/index\"\r\nimport { stateMixin } from \"./initState\"\r\nimport { compileToFunction } from \"./compile/index\"\r\nimport { createEl, patch } from \"./vnode/patch\"\r\n\r\nfunction Vue(options) {\r\n    // 初始化\r\n    this._init(options)\r\n}\r\n\r\ninitMixin(Vue)\r\nlifecycleMixin(Vue)\r\nrenderMixin(Vue)\r\nstateMixin(Vue) // 给vm添加$nextTick\r\n\r\n// 全局的方法 Vue.minin,Vue.component,Vue.extend\r\ninitGlobalApi(Vue)\r\n\r\n// 创建虚拟dom\r\n// let vm1 = new Vue({\r\n//     data: {\r\n//         name: '张三'\r\n//     }\r\n// })\r\n// // let render1 = compileToFunction(`<div id=\"a\" style=\"color: red\">{{name}}</div>`)\r\n// let render1 = compileToFunction(`<ul>\r\n//         <li style=\"background:red\" key=\"a\">a</li>\r\n//         <li style=\"background:pink\" key=\"b\">b</li>\r\n//         <li style=\"background:blue\" key=\"c\">c</li>\r\n//         <li style=\"background:blue\" key=\"d\">d</li>\r\n//     </ul>`)\r\n// let vnode1 = render1.call(vm1)\r\n// document.body.appendChild(createEl(vnode1))\r\n// // 数据更新\r\n// let vm2 = new Vue({\r\n//     data: {\r\n//         name: '李四'\r\n//     }\r\n// })\r\n// let render2 = compileToFunction(`<p id=\"a\">{{name}}</p>`)\r\n// let render2 = compileToFunction(`<div id=\"b\" style=\"color: red\">{{name}}</div>`)\r\n// 开头一样\r\n// let render2 = compileToFunction(`<ul>\r\n//         <li style=\"background:red\" key=\"a\">a</li>\r\n//         <li style=\"background:pink\" key=\"b\">b</li>\r\n//         <li style=\"background:blue\" key=\"c\">c</li>\r\n//         <li style=\"background:yellow\" key=\"d\">d</li>\r\n//     </ul>`)\r\n\r\n// 结尾一样\r\n// let render2 = compileToFunction(`<ul>\r\n//     <li style=\"background:yellow\" key=\"e\">e</li>\r\n//     <li style=\"background:yellow\" key=\"d\">d</li>\r\n//     <li style=\"background:red\" key=\"a\">a</li>\r\n//     <li style=\"background:pink\" key=\"b\">b</li>\r\n//     <li style=\"background:blue\" key=\"c\">c</li>\r\n// </ul>`)\r\n\r\n// 倒叙\r\n// let render2 = compileToFunction(`<ul>\r\n//     <li style=\"background:blue\" key=\"d\">d</li>\r\n//     <li style=\"background:red\" key=\"c\">c</li>\r\n//     <li style=\"background:pink\" key=\"b\">b</li>\r\n//     <li style=\"background:blue\" key=\"a\">a</li>\r\n// </ul>`)\r\n\r\n// 倒叙\r\n// let render2 = compileToFunction(`<ul>\r\n//     <li style=\"background:blue\" key=\"d\">d</li>\r\n//     <li style=\"background:red\" key=\"c\">c</li>\r\n//     <li style=\"background:pink\" key=\"b\">b</li>\r\n// </ul>`)\r\n\r\n// 暴力比对\r\n// let render2 = compileToFunction(`<ul>\r\n//     <li style=\"background:blue\" key=\"f\">f</li>\r\n//     <li style=\"background:red\" key=\"h\">h</li>\r\n//     <li style=\"background:pink\" key=\"i\">i</li>\r\n// </ul>`)\r\n// let vnode2 = render2.call(vm2)\r\n// // patch 比对\r\n// // patch(vnode1, vnode2)\r\n// setTimeout(() => {\r\n//     patch(vnode1,vnode2)\r\n// }, 2000)\r\n\r\nexport default Vue"],"names":["HOOKS","starts","data","parentVal","childVal","components","obj","Object","create","key","forEach","hook","mergeHook","concat","mergeOptions","parent","child","options","mergeField","initGlobalApi","Vue","mixin","mixinOptions","component","id","componentDef","name","extend","Super","Sub","vueComponent","opts","_init","prototype","constructor","console","log","defaultTagRE","genProps","attrs","str","attr","i","value","split","item","val","JSON","stringify","length","slice","genChildren","el","children","map","gen","join","node","type","generate","text","test","tokens","lastIndex","match","exec","index","push","trim","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createAstElement","root","currentParent","stack","start","element","charts","replace","end","pop","textEnd","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","advance","substring","n","compileToFunction","ast","render","Function","oldArrayProtoMethods","Array","arrayMethods","methods","args","result","apply","inserted","splice","ob","__ob__","observeArray","dep","notify","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","observer","Observer","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","childDep","get","depend","set","newValue","callback","pending","flush","cb","timerFunc","Promise","resolve","then","MutationObserver","observe","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","nextTick","Watcher","vm","expOrFn","deps","depsId","Set","user","lazy","dirty","getter","path","call","queueWatcher","has","add","addSub","oldValue","queue","flushWatcher","run","undefined","initState","$options","initData","props","computed","initComputed","watch","initWatch","_data","proxy","_computedWatchers","useDef","defineComputed","sharePropDefinition","configurable","createComputedGetter","evaluate","handler","createWatcher","source","$watch","stateMixin","$nextTick","_objectSpread","immediate","patch","oldVnode","vnode","createEl","nodeType","parentEl","parentNode","insertBefore","nextsibling","removeChild","replaceChild","updateProps","oldChildren","newChildren","updateChild","innerHTML","appendChild","oldProps","newProps","removeAttribute","newStyle","style","oldStyle","styleName","className","setAttribute","createComponent","componentInstance","$el","createElement","init","oldStartIndex","oldStartVnode","oldEndIndex","oldEndVnode","newStartIndex","newStartVnode","newEndIndex","newEndVnode","forward","isSameVnode","newVnode","makeIndexByKey","keyMap","nextSibling","moveIndex","moveVnode","mountedComponent","callHook","updateComponent","_update","_render","lifecycleMixin","prevVnode","_vnode","handlers","initMixin","$mount","querySelector","template","outerHTML","renderMixin","_c","arguments","_v","createText","_s","isReservedTag","Ctor","componentOptions","includes"],"mappings":"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"}